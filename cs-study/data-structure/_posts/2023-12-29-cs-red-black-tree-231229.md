---
layout: post
title: "Red Black Tree"
date: 2023-12-29 14:27:20 +0900
description: 'CS: TCP와 UDP'
img: # Add image post (optional)
fig-caption: # Add figcaption (optional)
tags: [red black tree, tree]
categories: [cs-study, data-structure]
---
# Red Black Tree

![Untitled](/assets/img/posts/cs-study/data-structure/red-black-tree/Untitled.png)

- 이진 검색 트리의 일종
- 각 노드에 색깔을 부여하여 특정 규칙을 유지하는 트리
- 데이터의 삽입, 삭제, 검색 연산을 효율적으로 수행 가능

### 색깔 규칙

- 각 노드는 빨간색 or 검은색 중 하나를 가짐
- 루트노드와 리프노드는 검은색
- 빨간색 노드는 연속해서 나타날 수 없음 → 빨간색 노드의 부모와 자식은 모두 검은색
- 어떤 노드로부터 리프 노드까지의 모든 경로에는 동일한 개수의 검은색 노드가 있어야 함 → 블랙 높이(Black Hight)

### 삽입 및 삭제 연산

- 노드를 삽입하거나 삭제할 때, 트리의 균형을 유지하기 위해 적절한 회전과 재색칠 작업이 수행
- 입이나 삭제 후에도 위의 색깔 규칙이 유지되도록 보장

### 시간복잡도

- 높이는 대략 log(n)으로 제한되어 있어 이진 검색 트리의 효율성을 유지하면서도 균형을 유지
- 검색, 삽입, 삭제 연산의 최악의 경우 시간복잡도가 O(log n)

### 활용

- 자료구조로 많이 사용
- 자바의 **`TreeMap`** 및 **`TreeSet`**
- C++의 STL의 **`map`** 및 **`set`** 등
- 내부적으로 Red-Black Tree를 사용하여 구현 가

---

# 교착상태

## 교착 상태**(Deadlock)**

- 두 개 이상의 프로세스나 스레드가 서로 상대방의 작업이 끝나기를 기다리며, 둘 다 작업을 완료하지 못한 채 영원히 대기하는 상태

### 조건

- **상호배제 (Mutual Exclusion)**
  - 자원은 한 번에 하나의 프로세스만이 사용할 수 있어야 함
- **점유대기 (Hold and Wait)**
  - 최소한 하나의 자원을 점유한 상태에서 다른 자원을 기다리고 있어야 함
- **비선점 (No Preemption)**
  - 다른 프로세스에게 할당된 자원을 강제로 빼앗을 수 없어야 함
- **순환대기 (Circular Wait)**
  - 프로세스 집합 {P0, P1, ..., Pn}에서 P0은 P1이 점유한 자원을 대기하고, P1은 P2가 점유한 자원을 대기하며, Pn은 P0이 점유한 자원을 대기하는 식의 환형 대기 상태가 존재해야 함

### 해결 방법

- **예방 (Prevention)**
  - 교착상태의 필요 조건 중 하나 이상을 제거하여 교착상태를 미리 방지하는 방법
  - 자원 할당 그래프를 사용하여 순환이 없도록 할 수 있음
- **회피 (Avoidance)**
  - 시스템이 자원 할당을 하는 동안 교착상태가 발생할 가능성을 피하는 방법
  - 은행원 알고리즘
  - 안전 상태를 유지하면서 자원을 할당
- **검출 및 회복 (Detection and Recovery)**
  - 교착상태가 발생하면 이를 검출하고 복구하는 방법
  - 검출 알고리즘을 통해 교착상태를 감지하고, 복구를 위한 조치를 취함.
- **무시 (Ignore)**
  - 교착상태가 일어나도 시스템이 무시하고 그대로 진행하는 방법
  - 실제로 교착상태를 무시하거나 최소화하는 경우에만 사용
  - 대부분의 시스템에서는 허용되지 않음
